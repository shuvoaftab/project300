<VirtualHost 192.168.101.129:8443>
	ServerName react.ibrahimsharif.com
	ServerAlias www.react.ibrahimsharif.com
	ServerAdmin webmaster@react.ibrahimsharif.com
	DocumentRoot /home/react/public_html
	UseCanonicalName Off
	ScriptAlias /cgi-bin/ /home/react/public_html/cgi-bin/

	#CustomLog /usr/local/apache/domlogs/react.ibrahimsharif.com.bytes bytes
	#CustomLog /usr/local/apache/domlogs/react.ibrahimsharif.com.log combined
	ErrorLog /usr/local/apache/domlogs/react.ibrahimsharif.com.error.log

	# Custom settings are loaded below this line (if any exist)
	# IncludeOptional "/usr/local/apache/conf/userdata/react/react.ibrahimsharif.com/*.conf"

	SSLEngine on
	SSLCertificateFile /etc/pki/tls/certs/react.ibrahimsharif.com.cert
	SSLCertificateKeyFile /etc/pki/tls/private/react.ibrahimsharif.com.key
	SSLCertificateChainFile /etc/pki/tls/certs/react.ibrahimsharif.com.bundle
	SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown

	<IfModule mod_userdir.c>
		UserDir disabled
		UserDir enabled react
	</IfModule>

	<IfModule mod_suexec.c>
		SuexecUserGroup react react
	</IfModule>

	<IfModule mod_suphp.c>
		suPHP_UserGroup react react
		suPHP_ConfigPath /home/react
	</IfModule>

	<IfModule mod_ruid2.c>
		RMode config
		RUidGid react react
	</IfModule>

	<IfModule itk.c>
		AssignUserID react react
	</IfModule>

	<Directory "/home/react/public_html">
		Options -Indexes -FollowSymLinks +SymLinksIfOwnerMatch
		AllowOverride All Options=ExecCGI,Includes,IncludesNOEXEC,Indexes,MultiViews,SymLinksIfOwnerMatch
		SSLRequireSSL
	</Directory>
	
	<IfModule mod_proxy.c>
			ProxyRequests Off
			ProxyPreserveHost On
			ProxyVia Full
			ProxyPass / http://127.0.0.1:9000/
			ProxyPassReverse / http://127.0.0.1:9000/

			<Proxy *>
				AllowOverride All
			</Proxy>
	</IfModule>
	
</VirtualHost>

<VirtualHost 192.168.101.129:8443>
	ServerName webmail.react.ibrahimsharif.com

	SSLEngine on
	SSLCertificateFile /etc/pki/tls/certs/react.ibrahimsharif.com.cert
	SSLCertificateKeyFile /etc/pki/tls/private/react.ibrahimsharif.com.key
	SSLCertificateChainFile /etc/pki/tls/certs/react.ibrahimsharif.com.bundle
	SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown

	<IfModule mod_proxy.c>
		ProxyRequests Off
		ProxyPreserveHost On
		ProxyVia Full
		ProxyPass / http://127.0.0.1:2095/
		ProxyPassReverse / http://127.0.0.1:2095/

		<Proxy *>
			AllowOverride All
		</Proxy>
	</IfModule>

	<IfModule mod_security2.c>
		SecRuleEngine Off
	</IfModule>

</VirtualHost>

<VirtualHost 192.168.101.129:8443>
	ServerName mail.react.ibrahimsharif.com

	SSLEngine on
	SSLCertificateFile /etc/pki/tls/certs/react.ibrahimsharif.com.cert
	SSLCertificateKeyFile /etc/pki/tls/private/react.ibrahimsharif.com.key
	SSLCertificateChainFile /etc/pki/tls/certs/react.ibrahimsharif.com.bundle
	SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown

	<IfModule mod_proxy.c>
		ProxyRequests Off
		ProxyPreserveHost On
		ProxyVia Full
		ProxyPass / http://127.0.0.1:2095/
		ProxyPassReverse / http://127.0.0.1:2095/

		<Proxy *>
			AllowOverride All
		</Proxy>
	</IfModule>

	<IfModule mod_security2.c>
		SecRuleEngine Off
	</IfModule>

</VirtualHost>

<VirtualHost 192.168.101.129:8443>
	ServerName cpanel.react.ibrahimsharif.com

	SSLEngine on
	SSLCertificateFile /etc/pki/tls/certs/react.ibrahimsharif.com.cert
	SSLCertificateKeyFile /etc/pki/tls/private/react.ibrahimsharif.com.key
	SSLCertificateChainFile /etc/pki/tls/certs/react.ibrahimsharif.com.bundle
	SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown

	<IfModule mod_proxy.c>
		SSLProxyEngine on
		SSLProxyVerify none
		SSLProxyCheckPeerCN off
		SSLProxyCheckPeerName off
		SSLProxyCheckPeerExpire off
		ProxyRequests Off
		ProxyPreserveHost On
		ProxyVia Full

		RewriteEngine on

		RewriteRule ^/roundcube$ /roundcube/ [R]
		ProxyPass /roundcube/ https://127.0.0.1:2031/roundcube/
		ProxyPassReverse /roundcube https://127.0.0.1:2031/roundcube/

		RewriteRule ^/pma$ /pma/ [R]
		ProxyPass /pma/ https://127.0.0.1:2031/pma/
		ProxyPassReverse /pma https://127.0.0.1:2031/pma/

		ProxyPass / https://127.0.0.1:2083/
		ProxyPassReverse / https://127.0.0.1:2083/

		<Proxy *>
			AllowOverride All
		</Proxy>
	</IfModule>

	<IfModule mod_security2.c>
		SecRuleEngine Off
	</IfModule>
	
</VirtualHost>